# üå± EcoRide - Plateforme de Covoiturage √âcologique

![EcoRide Logo](https://img.shields.io/badge/EcoRide-Covoiturage%20√âcologique-4CAF50?style=for-the-badge&logo=leaf)
[![PHP Version](https://img.shields.io/badge/PHP-8.2%2B-777BB4?logo=php)](https://php.net)
[![MySQL](https://img.shields.io/badge/MySQL-8.0%2B-4479A1?logo=mysql)](https://mysql.com)
[![Railway](https://img.shields.io/badge/Railway-Deployed-0B0D0E?logo=railway)](https://railway.app)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)

## üìã Description

EcoRide est une plateforme web moderne de covoiturage qui met l'accent sur l'√©cologie et la durabilit√©. Notre mission est de r√©duire l'impact environnemental des d√©placements en encourageant le partage de trajets, particuli√®rement avec des v√©hicules √©lectriques.

### ‚ú® Fonctionnalit√©s Principales

- üîç **Recherche de trajets** avec filtres avanc√©s (prix, dur√©e, type de v√©hicule)
- üöó **Gestion des v√©hicules** avec priorit√© aux v√©hicules √©lectriques
- üí≥ **Syst√®me de cr√©dits** s√©curis√© pour les transactions
- ‚≠ê **Syst√®me d'avis** mod√©r√© pour maintenir la qualit√©
- üë• **Comptes multi-r√¥les** (visiteur, utilisateur, employ√©, administrateur)
- üì± **Interface responsive** adapt√©e √† tous les appareils
- üõ°Ô∏è **S√©curit√© renforc√©e** avec protection CSRF, XSS et injection SQL

## üéØ Public Cible

- **Particuliers** soucieux de l'environnement
- **√âtudiants** cherchant des solutions √©conomiques
- **Travailleurs** pour trajets domicile-travail
- **Voyageurs occasionnels** pour longues distances

## üèóÔ∏è Architecture Technique

### Stack Technologique

#### Front-end
- **HTML5** + **CSS3** avec variables CSS
- **Bootstrap 5.3.0** pour le design responsive
- **JavaScript ES6+** pour l'interactivit√©
- **Font Awesome 6.4.0** pour les ic√¥nes
- **Chart.js** pour les graphiques administrateur

#### Back-end
- **PHP 8.2+** avec architecture MVC simple
- **PDO** pour l'acc√®s s√©curis√© aux donn√©es
- **Composer** pour la gestion des d√©pendances
- **API REST** pour les interactions front-end

#### Bases de Donn√©es
- **MySQL 8.0+** (donn√©es relationnelles compl√®tes)
- Structure optimis√©e avec 12 tables principales
- **Views** et **proc√©dures stock√©es** pour les performances

#### D√©ploiement
- **Docker** + **Docker Compose** pour le d√©veloppement local
- **Railway** pour l'h√©bergement cloud
- **Git** + **GitHub** pour le versioning

## üöÄ Installation et Configuration

### Pr√©requis

- **PHP >= 8.2**
- **MySQL >= 8.0**
- **Docker** + **Docker Compose** (recommand√©)
- **Composer**
- **Git**

### Installation avec Docker (Recommand√©)

1. **Cloner le projet**
   ```bash
   git clone https://github.com/username/ecoride.git
   cd ecoride
   ```

2. **Lancer avec Docker Compose**
   ```bash
   # Lancer tous les services
   docker-compose up -d

   # Initialiser la base de donn√©es
   docker-compose exec php php scripts/init-database.php
   ```

3. **Acc√©der √† l'application**
   ```
   http://localhost:8000
   ```

### Installation Manuelle

1. **Cloner et installer**
   ```bash
   git clone https://github.com/username/ecoride.git
   cd ecoride
   composer install
   ```

2. **Configurer la base de donn√©es**
   ```bash
   # Importer la structure compl√®te
   mysql -u root -p < sql/deploy_railway.sql
   ```

3. **Configuration**
   ```bash
   # √âditer config/config.php avec vos param√®tres
   nano config/config.php
   ```

4. **Lancer le serveur**
   ```bash
   composer run dev
   # ou
   php -S localhost:8000 -t public/
   ```

### Comptes de Test

L'application est livr√©e avec des comptes de d√©monstration :

| R√¥le | Email | Mot de passe | Pseudo |
|------|-------|--------------|---------|
| Admin | admin@ecoride.fr | admin123 | AdminEcoRide |
| Employ√© | employe1@ecoride.fr | emp123 | ModeratorJoe |
| Chauffeur | marie.dupont@email.com | marie123 | MarieDriveGreen |
| Passager | pierre.durand@email.com | pierre123 | PierreVoyage |

## üìÅ Structure du Projet

```
ecoride/
‚îú‚îÄ‚îÄ üìÅ public/                 # Interface utilisateur (HTML/CSS/JS)
‚îÇ   ‚îú‚îÄ‚îÄ index.html            # Page d'accueil
‚îÇ   ‚îú‚îÄ‚îÄ covoiturages.html     # Liste des trajets
‚îÇ   ‚îú‚îÄ‚îÄ profil.html           # Espace utilisateur
‚îÇ   ‚îú‚îÄ‚îÄ styles.css            # Styles principaux
‚îÇ   ‚îú‚îÄ‚îÄ main.js               # Scripts principaux
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ img/               # Images et assets
‚îú‚îÄ‚îÄ üìÅ src/                   # API et logique m√©tier PHP
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Controllers/       # Contr√¥leurs API
‚îÇ       ‚îú‚îÄ‚îÄ AuthController.php
‚îÇ       ‚îú‚îÄ‚îÄ RideController.php
‚îÇ       ‚îî‚îÄ‚îÄ BaseController.php
‚îú‚îÄ‚îÄ üìÅ config/                # Configuration
‚îÇ   ‚îî‚îÄ‚îÄ config.php            # Param√®tres de l'application
‚îú‚îÄ‚îÄ üìÅ sql/                   # Base de donn√©es
‚îÇ   ‚îú‚îÄ‚îÄ structure.sql         # Structure originale
‚îÇ   ‚îú‚îÄ‚îÄ deploy_railway.sql    # Script de d√©ploiement complet
‚îÇ   ‚îî‚îÄ‚îÄ add_profile_fields.sql # Migration profils
‚îú‚îÄ‚îÄ üìÅ scripts/               # Scripts utilitaires
‚îÇ   ‚îú‚îÄ‚îÄ init-database.php     # Initialisation DB
‚îÇ   ‚îî‚îÄ‚îÄ backup.sh            # Sauvegardes
‚îú‚îÄ‚îÄ üìÅ docker/                # Configuration Docker
‚îú‚îÄ‚îÄ üìÅ .claude/               # Configuration Claude Code
‚îú‚îÄ‚îÄ compose.yml               # Docker Compose
‚îú‚îÄ‚îÄ Dockerfile.railway        # Build Railway
‚îú‚îÄ‚îÄ railway.json             # Configuration Railway
‚îî‚îÄ‚îÄ composer.json            # D√©pendances PHP
```

## üéÆ Utilisation

### Pour les Visiteurs

1. **Rechercher un trajet**
   - Acc√©der √† la page d'accueil
   - Saisir ville de d√©part, d'arriv√©e et date
   - Appliquer des filtres si n√©cessaire

2. **Consulter les d√©tails**
   - Cliquer sur "D√©tails" d'un trajet
   - Voir les informations compl√®tes (chauffeur, v√©hicule, avis)

3. **S'inscrire**
   - Cr√©er un compte pour r√©server
   - 20 cr√©dits offerts √† l'inscription

### Pour les Utilisateurs

1. **R√©server un trajet**
   - Se connecter
   - Rechercher et s√©lectionner un trajet
   - Confirmer la r√©servation (cr√©dits d√©bit√©s)

2. **Proposer un trajet (chauffeur)**
   - Configurer son profil chauffeur
   - Ajouter ses v√©hicules
   - Cr√©er un nouveau trajet

3. **G√©rer ses trajets**
   - Consulter l'historique
   - D√©marrer/terminer ses trajets
   - Laisser des avis

### Pour les Employ√©s

1. **Mod√©rer les avis**
   - Approuver ou rejeter les avis soumis
   - G√©rer les commentaires inappropri√©s

2. **G√©rer les litiges**
   - Traiter les conflits chauffeur/passager
   - R√©soudre les probl√®mes signal√©s

### Pour les Administrateurs

1. **G√©rer les utilisateurs**
   - Cr√©er des comptes employ√©s
   - Suspendre des comptes
   - Consulter les statistiques

2. **Analyser les donn√©es**
   - Graphiques de covoiturages par jour
   - Revenus de la plateforme
   - M√©triques de performance

## üîß API et Architecture

### Structure de l'API
```
src/Controllers/
‚îú‚îÄ‚îÄ AuthController.php       # Authentification utilisateur
‚îú‚îÄ‚îÄ RideController.php       # Gestion des covoiturages
‚îî‚îÄ‚îÄ BaseController.php       # M√©thodes communes
```

### Endpoints Disponibles
```http
# Authentification
POST /src/Controllers/AuthController.php?action=login
POST /src/Controllers/AuthController.php?action=register
POST /src/Controllers/AuthController.php?action=logout

# Covoiturages
GET  /src/Controllers/RideController.php?action=list
GET  /src/Controllers/RideController.php?action=details&id={id}
POST /src/Controllers/RideController.php?action=create
POST /src/Controllers/RideController.php?action=book
```

### Base de Donn√©es - Tables Principales
- **users** - Utilisateurs avec profils complets
- **vehicles** - V√©hicules des chauffeurs
- **rides** - Covoiturages propos√©s
- **bookings** - R√©servations effectu√©es
- **reviews** - Syst√®me d'avis
- **user_roles, ride_statuses** - Tables de r√©f√©rence

## üß™ Tests et Scripts

### Scripts Composer Disponibles
```bash
# Lancer le serveur de d√©veloppement
composer run dev

# Lancer en production (0.0.0.0:8000)
composer run start

# Nettoyer et r√©installer les d√©pendances
composer run clean

# Tests (si configur√©s)
composer run test
```

### Scripts d'Initialisation
```bash
# Initialiser la base de donn√©es
php scripts/init-database.php

# Mettre √† jour les mots de passe
php scripts/update-passwords.php

# Sauvegarde de la base
./scripts/backup.sh
```

## üõ°Ô∏è S√©curit√©

### Mesures Impl√©ment√©es

- ‚úÖ **Hachage des mots de passe** avec `password_hash()`
- ‚úÖ **Protection CSRF** avec tokens
- ‚úÖ **Requ√™tes pr√©par√©es** pour √©viter l'injection SQL
- ‚úÖ **√âchappement XSS** avec `htmlspecialchars()`
- ‚úÖ **Validation c√¥t√© serveur** de toutes les donn√©es
- ‚úÖ **Sessions s√©curis√©es** avec configuration renforc√©e
- ‚úÖ **HTTPS obligatoire** en production

### Bonnes Pratiques

- Principe du moindre privil√®ge
- Validation et nettoyage des donn√©es
- Logging des actions sensibles
- Audit r√©gulier des d√©pendances

## üìà Performance

### Optimisations Mises en Place

- **Cache Redis** pour les requ√™tes fr√©quentes
- **Index composites** sur les colonnes de recherche
- **Pagination** des r√©sultats
- **Compression Gzip** des assets
- **Lazy loading** des images
- **Minification** CSS/JS en production

### M√©triques de Performance

- Temps de chargement < 2s
- Score Lighthouse > 90
- Disponibilit√© 99.9%

## üåç D√©ploiement

### Environnements Disponibles

#### D√©veloppement Local
```bash
# Avec Docker
docker-compose up -d

# Manuel
composer run dev
```

#### Production Railway
```bash
# Le projet est configur√© pour Railway
# Fichiers : Dockerfile.railway, railway.json
# D√©ploiement automatique via Git push
```

### Configuration Railway

Le projet inclut :
- **Dockerfile.railway** - Build optimis√© pour Railway
- **railway.json** - Configuration de d√©ploiement
- **scripts/deploy-to-railway.ps1** - Script de d√©ploiement PowerShell
- **sql/deploy_railway.sql** - Script d'initialisation DB

### Variables d'Environnement

```env
# Configuration locale (.env)
DB_HOST=mysql
DB_NAME=ecoride_db
DB_USER=ecoride_user
DB_PASSWORD=ecoride_secure_password_2024

# Railway (automatiquement configur√©es)
MYSQL_URL=mysql://user:pass@host:port/db
RAILWAY_PUBLIC_DOMAIN=votre-app.railway.app
```

## ü§ù Contribution

### Workflow de D√©veloppement

1. **Fork** le projet
2. **Cr√©er** une branche feature (`git checkout -b feature/AmazingFeature`)
3. **Commit** vos changements (`git commit -m 'Add some AmazingFeature'`)
4. **Push** vers la branche (`git push origin feature/AmazingFeature`)
5. **Ouvrir** une Pull Request

### Standards de Code

- **PSR-12** pour PHP
- **ES6+** pour JavaScript
- **BEM** pour CSS
- **Documentation** obligatoire pour les fonctions
- **Tests** pour les nouvelles fonctionnalit√©s

### Git Flow

```
main (production)
‚îú‚îÄ‚îÄ develop (int√©gration)
‚îÇ   ‚îú‚îÄ‚îÄ feature/user-authentication
‚îÇ   ‚îú‚îÄ‚îÄ feature/ride-booking
‚îÇ   ‚îî‚îÄ‚îÄ feature/admin-dashboard
‚îî‚îÄ‚îÄ hotfix/security-patch
```

## üìä Statistiques du Projet

![GitHub repo size](https://img.shields.io/github/repo-size/username/ecoride)
![Lines of code](https://img.shields.io/tokei/lines/github/username/ecoride)
![GitHub issues](https://img.shields.io/github/issues/username/ecoride)
![GitHub pull requests](https://img.shields.io/github/issues-pr/username/ecoride)

## üó∫Ô∏è Roadmap

### Version 1.1.0 - Q1 2026
- [ ] Application mobile (React Native)
- [ ] Notifications push
- [ ] Chat en temps r√©el
- [ ] Syst√®me de cashback

### Version 1.2.0 - Q2 2026
- [ ] Intelligence artificielle pour matching
- [ ] Pr√©diction de la demande
- [ ] Int√©gration GPS temps r√©el
- [ ] API publique

### Version 2.0.0 - Q4 2026
- [ ] Marketplace de services
- [ ] Programme de fid√©lit√© avanc√©
- [ ] Expansion internationale
- [ ] Blockchain pour transparence

## üèÜ Fonctionnalit√©s Impl√©ment√©es par US

### Activit√© Type 1 (Front-end)
- [x] **US1** - Page d'accueil avec recherche
- [x] **US2** - Menu de navigation
- [x] **US3** - Vue des covoiturages
- [x] **US4** - Filtres des covoiturages
- [x] **US5** - Vue d√©taill√©e d'un covoiturage
- [x] **US6** - Participation √† un covoiturage
- [x] **US7** - Cr√©ation de compte
- [x] **US11** - D√©marrer/arr√™ter un covoiturage
- [x] **US12** - Espace employ√©
- [x] **US13** - Espace administrateur

### Activit√© Type 2 (Back-end)
- [x] **US3** - Gestion des donn√©es covoiturage
- [x] **US5** - API d√©tail covoiturage
- [x] **US6** - Syst√®me de r√©servation
- [x] **US7** - Authentification utilisateur
- [x] **US8** - Espace utilisateur
- [x] **US9** - Saisie de voyage
- [x] **US10** - Historique des covoiturages
- [x] **US11** - Workflow trajet complet
- [x] **US12** - Mod√©ration employ√©
- [x] **US13** - Administration compl√®te

## üÜò Support et Contact

### Issues GitHub
Pour reporter des bugs ou demander des fonctionnalit√©s :
[Cr√©er une issue](https://github.com/username/ecoride/issues/new)

### Documentation
- üìñ [Documentation Technique](docs/technical-documentation.md)
- üé® [Charte Graphique](docs/style-guide.pdf)
- üë§ [Manuel Utilisateur](docs/user-manual.pdf)

### Contact
- **Email** : contact@ecoride.fr
- **LinkedIn** : [EcoRide Official](https://linkedin.com/company/ecoride)
- **Twitter** : [@EcoRideFR](https://twitter.com/ecoridefr)

## üìÑ Licence

Ce projet est sous licence MIT. Voir le fichier [LICENSE](LICENSE) pour plus de d√©tails.

## üôè Remerciements

- **Jos√©** - Directeur Technique et Product Owner
- **Studi** - Plateforme de formation
- **Bootstrap Team** - Framework CSS
- **PHP Community** - Langage et √©cosyst√®me
- **Open Source Contributors** - Libraries utilis√©es

## üíö Impact Environnemental

### Objectifs √âcologiques
- üå± R√©duction de 15% des √©missions CO‚ÇÇ par trajet partag√©
- ‚ö° Priorit√© aux v√©hicules √©lectriques (badge √©cologique)
- üìä Calcul et affichage de l'impact environnemental
- üèÜ Syst√®me de r√©compenses pour trajets verts

### M√©triques Actuelles
- **1,247** utilisateurs actifs
- **5,830** trajets partag√©s
- **12.5 tonnes** de CO‚ÇÇ √©conomis√©es
- **‚Ç¨15,200** d'√©conomies r√©alis√©es

---

<div align="center">

**üåç Ensemble, construisons un avenir plus durable ! üåç**

[![Made with ‚ù§Ô∏è by EcoRide Team](https://img.shields.io/badge/Made%20with-%E2%9D%A4%EF%B8%8F-red?style=for-the-badge)](https://github.com/username/ecoride)

</div>

---

*Derni√®re mise √† jour : 23 septembre 2025*